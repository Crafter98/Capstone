<!DOCTYPE html>
<html>
    <head>
        <meta charset = "utf-8">
        <title>오늘의 키워드</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"
            type="text/javascript"></script>
        <script>
            $(document).ready(function(){
                var now = new Date();
                now.setDate(now.getDate()-1);
                var now = dateToString(now);
                var cur = now;
                var section = '정치';

                $("#currentDate").text(cur);
                btnInActive();
                showKeywords();

                function dateToString(curDate){
                    var year = curDate.getFullYear();
                    var month = curDate.getMonth()+1;
                    var date = curDate.getDate();

                    month = month >=10 ? month : "0" + month;
                    date  = date  >= 10 ? date : "0" + date;
                    return today = "" + year + "-" + month + "-" + date;
                }

                $("#yes").click(function(){
                    cur = new Date(cur);
                    cur.setDate(cur.getDate() - 1);
                    cur = dateToString(cur);

                    if(cur != now){
                        btnActive();
                    }
                    
                    $("#currentDate").text(cur);
                    showKeywords();
                });

                $("#tom").click(function(){
                    cur = new Date(cur);
                    cur.setDate(cur.getDate() + 1);
                    cur = dateToString(cur);

                    if(cur == now){
                        btnInActive();
                    }
                    
                    $("#currentDate").text(cur);
                    showKeywords();
                });

                function btnActive(){
                    $("#tom").removeAttr("disabled");
                }
                function btnInActive(){
                    $("#tom").attr("disabled", "disabled");
                }

                function showKeywords(){
                    $.ajax({
                        url: "keywords.php",
                        type: "post",
                        data: {date : $("#currentDate").text(),
                                section : section},
                    }).done(function(data) {
                        $('#keywordTable').html(data);
                    });
                }


                $("#politic").click(function(){ // 정치 버튼 클릭
                    section = '정치'
                    showKeywords();
                });

                $("#economy").click(function(){ // 경제 버튼 클릭
                    section = '경제'
                    showKeywords();
                });

                $("#social").click(function(){ // 사회 버튼 클릭
                    section = '사회'
                    showKeywords();
                });

                $("#lifeCulture").click(function(){ // 생활/문화 버튼 클릭
                    section = '생활/문화'
                    showKeywords();
                });

                $("#global").click(function(){ // 세계 버튼 클릭
                    section = '세계'
                    showKeywords();
                });

                $("#science").click(function(){ // 과학 버튼 클릭
                    section = '과학'
                    showKeywords();
                });


            });
        </script>
    </head>

    <body>
        <input type="button" id="yes" value="&lt;" />
        <p1 id=currentDate></p1>
        <input type="button" id="tom" value="&gt;" />
        <br><br>

        <input type="button" id="politic" value="정치" />
        <input type="button" id="economy" value="경제" />
        <input type="button" id="social" value="사회" />
        <input type="button" id="lifeCulture" value="생활/문화" />
        <input type="button" id="global" value="세계" />
        <input type="button" id="science" value="과학" />
        <br>
    

        <div id="keywordTable" class="table-responsive"></div>

    </body>
</html>